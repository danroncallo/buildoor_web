<div class="content-wrapper">
  <simple-notifications></simple-notifications>
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Categorías
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> Inicio</a></li>
      <li class="active">Categorías</li>
    </ol>
  </section>

  <section class="content">
    <h3 id="add" style="text-align: right"><a (click)="showChildModal();buttonTrue()"><i class="fa fa-plus-circle"></i>
      Agregar
      Categoría</a>
    </h3>
    <br>
    <div class="panel panel-default">
      <div class="panel-heading" style="font-weight: bold; font-size: 17px">Lista de Categorías</div>

      <table class="table table-striped" [mfData]="data" #mf="mfDataTable"
             [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
        <thead>
        <tr>
          <th>
            <mfDefaultSorter by="name">Nombre</mfDefaultSorter>
          </th>
          <th style="text-align: center;">
            <mfDefaultSorter by="options">Opciones</mfDefaultSorter>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of mf.data">
          <td>{{item.name}}</td>
          <td style="text-align: center"><a (click)="getCategory(item.id);showChildModal();buttonFalse()">
            <i class="fa fa-edit"></i></a><a (click)="deleteCategory(item.id)"><i class="fa fa-trash"></i></a>
          </td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
          <td colspan="7">
            <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
          </td>
        </tr>
        </tfoot>
      </table>
    </div>

    <div bsModal #childModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
         aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content" style="height: 300px">
          <div class="modal-header">
            <h4 *ngIf="save" class="modal-title pull-left">Agregar Categoría</h4>
            <h4 *ngIf="!save" class="modal-title pull-left">Editar Categoría</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form [formGroup]="categoryForm" class="loginForm">
              <div class="col-md-12 form-group">
                <label class="control-label">
                  Nombre</label>
                <div class="">
                  <input type="text" class="form-control" formControlName="name" required>
                </div>
              </div>
              <div hidden class="col-md-12 form-group">
                <label class="control-label">id</label>
                <div class="">
                  <input type="text" class="form-control" formControlName="id">
                </div>
              </div>
              <div *ngIf="save" class="form-group last">
                <div class="col-md-12" style="text-align: center;">
                  <button (click)="submitForm();" type="submit" class="btn btn-success btn-md">
                    Guardar
                  </button>
                </div>
              </div>
              <div *ngIf="!save" class="form-group last">
                <div class="col-md-12" style="text-align: center;">
                  <button (click)="updateForm();" type="submit" class="btn btn-success btn-md">
                    Editar
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
